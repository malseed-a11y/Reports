const CPU_POLL_INTERVAL=Math.max(Number(CpuAjax.interval)||1e3,1e3),CPU_MAX_POINTS=30;let cpuLabels=[],cpuValues=[],cpuChart=null;function startCpuPolling(){setInterval(async()=>{try{const t=new FormData;t.append("action",CpuAjax.action);const e=await fetch(CpuAjax.url,{method:"POST",body:t,cache:"no-store"});if(!e.ok)throw new Error("Network error");const a=await e.json();addCpuPoint(Number(a.cpu)||0)}catch(t){console.error("Error fetching CPU usage:",t)}},CPU_POLL_INTERVAL)}function addCpuPoint(t){const e=new Date,a=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");cpuLabels.push(a),cpuValues.push(t),cpuLabels.length>30&&(cpuLabels.shift(),cpuValues.shift()),cpuChart.update()}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("cpuChart");t&&"undefined"!=typeof Chart?(cpuChart=new Chart(t,{type:"line",data:{labels:cpuLabels,datasets:[{label:"CPU Usage (%)",data:cpuValues,borderWidth:2,borderColor:"rgba(37, 99, 235, 1)",backgroundColor:"rgba(37, 99, 235, 0.15)",fill:!0,tension:.4,pointRadius:0,pointHoverRadius:0,pointHitRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{y:{beginAtZero:!0,suggestedMin:0,suggestedMax:100,ticks:{stepSize:20},title:{display:!0,text:"CPU (%)"},grid:{color:"rgba(209, 213, 219, 0.6)"}},x:{title:{display:!0,text:"Time (HH:MM)"},ticks:{maxTicksLimit:7,autoSkip:!0,maxRotation:0,minRotation:0},grid:{color:"rgba(243, 244, 246, 0.8)"}}},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(t){return"CPU: "+(t.parsed.y||0).toFixed(1)+" %"}}}},elements:{line:{borderCapStyle:"round",borderJoinStyle:"round"}}}}),startCpuPolling()):console.warn("cpuChart canvas or Chart.js not found")});
//# sourceMappingURL=map/cpu_chart.min.js.map
